.image-with-text-block {
  display: block;
}

.image-with-text-block__image-wrapper {
  overflow: hidden;
  background: rgb(var(--secondary-background)); /* Act as a filler */
}

.image-with-text-block__content {
  padding: 48px 24px;
  background-color: rgb(var(--section-block-background));
  border-radius: var(--block-border-radius);
}

.image-with-text-block__text-container {
  margin-top: 24px;
}

@media screen and (max-width: 999px) {
  .image-with-text-block__content {
    width: auto;
  }

  .image-with-text-block--overlap-left .image-with-text-block__content,
  .image-with-text-block--overlap-right .image-with-text-block__content {
    margin: calc(-1 * var(--container-gutter)) var(--container-gutter) 0;
    padding: 40px;
  }

  .image-with-text-block:not(.image-with-text-block--overlap-left):not(
      .image-with-text-block--overlap-right
    )
    .image-with-text-block__content {
    border-radius: 0;
  }

  /* Cover variation: on this mode, the image will still cover the image. There is a bit of duplication of
		 code but I could not find cleaner way */
  .image-with-text-block--cover {
    position: relative;
    display: flex;
    align-items: center;
  }

  [dir="ltr"]
    .image-with-text-block--cover
    .image-with-text-block__image-wrapper {
    left: 0;
  }

  [dir="rtl"]
    .image-with-text-block--cover
    .image-with-text-block__image-wrapper {
    right: 0;
  }

  .image-with-text-block--cover .image-with-text-block__image-wrapper {
    position: absolute;
    top: 0;
    width: 100%;
    height: 100%;
  }

  .image-with-text-block--cover .image-with-text-block__image {
    height: 100%;
    object-fit: cover;
    object-position: center;
  }

  .image-with-text-block--cover .image-with-text-block__content {
    padding: var(--container-gutter);
    margin: var(--vertical-breather) var(--container-gutter);
  }
}

@media screen and (min-width: 741px) and (max-width: 999px) {
  .image-with-text-block--cover .image-with-text-block__content {
    max-width: 400px;
    margin-left: auto;
    margin-right: auto;
  }
}

@media screen and (min-width: 741px) {
  .image-with-text-block__content {
    padding-left: 48px;
    padding-right: 48px;
  }
}

@media screen and (min-width: 1000px) {
  .image-with-text-block {
    position: relative;
    display: flex;
    align-items: center;
    min-height: 500px;
  }

  [dir="ltr"] .image-with-text-block__image-wrapper {
    left: 0;
  }

  [dir="rtl"] .image-with-text-block__image-wrapper {
    right: 0;
  }

  .image-with-text-block__image-wrapper {
    position: absolute;
    top: 0;
    width: 100%;
    height: 100%;
  }

  [dir="ltr"] .image-with-text-block__image {
    left: 0;
  }

  [dir="rtl"] .image-with-text-block__image {
    right: 0;
  }

  .image-with-text-block__image {
    position: absolute;
    top: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
  }

  .image-with-text-block__content {
    margin-top: var(--vertical-breather);
    margin-bottom: var(--vertical-breather);
  }

  /* Overlap variation */

  .image-with-text-block--overlap-right .image-with-text-block__image-wrapper,
  .image-with-text-block--overlap-left .image-with-text-block__image-wrapper {
    width: calc(
      var(--grid-column-width) * 14 + (var(--grid-gap) * 13) +
        var(--container-outer-margin)
    );
  }

  [dir="ltr"]
    .image-with-text-block--overlap-left
    .image-with-text-block__image-wrapper {
    right: 0;
  }

  [dir="rtl"]
    .image-with-text-block--overlap-left
    .image-with-text-block__image-wrapper {
    left: 0;
  }

  [dir="ltr"]
    .image-with-text-block--overlap-left
    .image-with-text-block__image-wrapper {
    left: auto;
  }

  [dir="rtl"]
    .image-with-text-block--overlap-left
    .image-with-text-block__image-wrapper {
    right: auto;
  }
}

@media screen and (min-width: 1200px) {
  .image-with-text-block {
    min-height: 700px;
  }

  .image-with-text-block--small {
    min-height: 400px;
  }

  .image-with-text-block__content:not(.image-with-text-block__content--tight) {
    padding: 64px;
  }
}
