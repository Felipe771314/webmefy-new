{% assign headings_settings = block-headings.settings | default: block-headings %}

{% assign title = headings_settings.title | default: headings_settings.heading %}
{% assign title_tag = headings_settings.title_tag | default: headings_settings.heading_tag | default: 'span' %}
{% assign title_size = headings_settings.title_size | default: headings_settings.heading_size | default: 'h4' %}
{% assign title_custom_font_size = headings_settings.title_custom_font_size
  | default: headings_settings.heading_custom_font_size
%}
{% assign title_custom_font_size_mobile = headings_settings.title_custom_font_size_mobile
  | default: headings_settings.heading_custom_font_size_mobile
%}
{% assign title_weight = headings_settings.title_weight | default: headings_settings.heading_weight %}
{% assign title_transform = headings_settings.title_transform | default: headings_settings.heading_transform %}
{% assign title_typo = headings_settings.title_typo | default: headings_settings.heading_typo %}

{% assign subheading = headings_settings.subheading %}
{% assign subheading_tag = headings_settings.subheading_tag | default: 'span' %}
{% assign subheading_size = headings_settings.subheading_size %}
{% assign subheading_custom_font_size = headings_settings.subheading_custom_font_size %}
{% assign subheading_custom_font_size_mobile = headings_settings.subheading_custom_font_size_mobile %}
{% assign subheading_weight = headings_settings.subheading_weight %}
{% assign subheading_transform = headings_settings.subheading_transform %}
{% assign subheading_typo = headings_settings.subheading_typo %}

{%- capture title -%}
  {%- if title != blank -%}
    {% assign class_list = 'heading ' | append: title_size | append: ' ' %}
    {% if title_custom_font_size != blank %}
      {% assign class_list = class_list | append: 'custom-font-size '%}
    {% endif %}
    {% if title_custom_font_size_mobile != blank%}
      {% assign class_list = class_list | append: 'custom-font-size--mobile ' %}
    {% endif %}
    {% if title_weight != blank %}
      {% assign class_list = class_list | append: 'font-weight--' | append: title_weight | append: ' ' %}
    {% endif %}
    {% if title_transform != blank %}
      {% assign class_list = class_list | append: 'text-transform--' | append: title_transform | append: ' ' %}
    {% endif %}
    {% if title_typo != 'default' %}
      {% assign class_list = class_list | append: 'heading--' | append: title_typo | append: ' ' %}
    {% endif %}
    <{{- title_tag }} class="{{ class_list }}">{{- title | espace -}}</{{- title_tag -}}>
  {%- endif -%}
{%- endcapture -%}

{%- capture subheading -%}
  {%- if subheading != blank -%}
    {% assign class_list = 'heading heading--small ' %}
    {% if subheading_size != blank and subheading_size != 'default' %}
      {% assign class_list = class_list | append: subheading_size | append: ' ' %}
    {% endif %}
    {% if subheading_custom_font_size != blank %}
      {% assign class_list = class_list | append: 'custom-font-size '%}
    {% endif %}
    {% if subheading_custom_font_size_mobile != blank%}
      {% assign class_list = class_list | append: 'custom-font-size--mobile ' %}
    {% endif %}
    {% if subheading_weight != blank and subheading_weight != 'default' %}
      {% assign class_list = class_list | append: 'font-weight--' | append: subheading_weight | append: ' ' %}
    {% endif %}
    {% if subheading_transform != blank and subheading_transform != 'default' %}
      {% assign class_list = class_list | append: 'text-transform--' | append: subheading_transform | append: ' ' %}
    {% endif %}
    {% if subheading_typo != 'default' %}
      {% assign class_list = class_list | append: 'heading--' | append: subheading_typo | append: ' ' %}
    {% endif %}
    <{{- subheading_tag }} class="{{ class_list }}">{{- subheading | espace -}}</{{- subheading_tag -}}>
  {%- endif -%}
{%- endcapture -%}

{%- if title != blank or subheading != blank -%}
  {% if headings_settings.reverse_order_headings %}
    {{ title }}
    {{ subheading }}
  {% else %}
    {{ subheading }}
    {{ title }}
  {% endif %}
{%- endif -%}
