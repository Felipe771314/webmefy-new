{% assign enable = false %}
{% if settings.enable_scroll_to_top_desktop or enable_scroll_to_top_mobile %}
  {% assign enable = true %}
{% endif %}
{% if settings.scroll_to_top_show_on == 'collection' and request.page_type != 'collection' %}
  {% assign enable = false %}
{% endif %}

{% if enable %}
  {% if settings.scroll_to_top_background == 'rgba(0,0,0,0)' %}
    {% assign background = settings.background %}
  {% else %}
    {% assign background = settings.scroll_to_top_background %}
  {% endif %}

  {% if settings.scroll_to_top_text_color == 'rgba(0,0,0,0)' %}
    {% assign text_color = settings.text_color %}
  {% else %}
    {% assign text_color = settings.scroll_to_top_text_color %}
  {% endif %}

  <scroll-to-top
    class="scroll-to-top{% unless settings.enable_scroll_to_top_desktop %} hidden-desk{% endunless %}{% unless settings.enable_scroll_to_top_mobile %} hidden-lap-and-below{% endunless %}"
    style="--background: {{ background.red }}, {{ background.green }}, {{ background.blue }};--text-color: {{ text_color.red }}, {{ text_color.green }}, {{ text_color.blue }};"
    hidden
    {% if settings.scroll_to_top_trigger != blank %}
      trigger="{{ settings.scroll_to_top_trigger }}"
    {% endif %}
    scroll-behavior="{{ settings.scroll_to_top_behavior }}"
  >
    {% render 'icon' with 'chevron' %}
  </scroll-to-top>
{% endif %}
